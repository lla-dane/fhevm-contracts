## ConfidentialERC20Wrapped

This contract allows users to wrap/unwrap trustlessly ERC20 tokens to [ConfidentialERC20](./IConfidentialERC20.md)
tokens.

_This implementation does not support tokens with rebase functions or tokens with a fee on transfer. All ERC20 tokens
must have decimals superior or equal to 6 decimals._

### MaxDecryptionDelayTooHigh

```solidity
error MaxDecryptionDelayTooHigh()
```

Returned if the maximum decryption delay is higher than 1 day.

### ERC20_TOKEN

```solidity
contract IERC20Metadata ERC20_TOKEN
```

ERC20 token that is wrapped.

### isAccountRestricted

```solidity
mapping(address => bool) isAccountRestricted
```

Tracks whether the account can move funds.

### unwrapRequests

```solidity
mapping(uint256 => struct IConfidentialERC20Wrapped.UnwrapRequest) unwrapRequests
```

Tracks the unwrap request to a unique request id.

### constructor

```solidity
constructor(address erc20_, uint256 maxDecryptionDelay_) internal
```

_The name/symbol are autogenerated. For instance, "Wrapped Ether" --> "Confidential Wrapped Ether" "WETH" --> "WETHc".
Do not use a small value in production to avoid security issues if the response cannot be processed because the block
time is higher than the delay. The current implementation expects the Gateway to always return a decrypted value within
the delay specified, as long as it is sufficient enough._

#### Parameters

| Name                 | Type    | Description                                |
| -------------------- | ------- | ------------------------------------------ |
| erc20\_              | address | Address of the ERC20 token to wrap/unwrap. |
| maxDecryptionDelay\_ | uint256 | Maximum delay for the Gateway to decrypt.  |

### unwrap

```solidity
function unwrap(uint64 amount) public virtual
```

Unwrap ConfidentialERC20 tokens to standard ERC20 tokens.

#### Parameters

| Name   | Type   | Description       |
| ------ | ------ | ----------------- |
| amount | uint64 | Amount to unwrap. |

### wrap

```solidity
function wrap(uint256 amount) public virtual
```

Wrap ERC20 tokens to an encrypted format.

#### Parameters

| Name   | Type    | Description     |
| ------ | ------- | --------------- |
| amount | uint256 | Amount to wrap. |

### callbackUnwrap

```solidity
function callbackUnwrap(uint256 requestId, bool canUnwrap) public virtual
```

Callback function for the gateway.

#### Parameters

| Name      | Type    | Description                  |
| --------- | ------- | ---------------------------- |
| requestId | uint256 | Request id.                  |
| canUnwrap | bool    | Whether it can be unwrapped. |

### \_canTransferOrUnwrap

```solidity
function _canTransferOrUnwrap(address account) internal virtual
```

### \_transferNoEvent

```solidity
function _transferNoEvent(address from, address to, euint64 amount, ebool isTransferable) internal virtual
```

### \_unsafeBurn

```solidity
function _unsafeBurn(address account, uint64 amount) internal
```
